# Barber_Web_TgBot

Приложение для барбершопа, которое включает в себя функционал записи на стрижки через веб-интерфейс и Telegram-бот, а также систему управления записями и пользователями.

## Что сделано по заданиям:

### Задание 52:

- Реализовано **веб-приложение для записи на услуги в барбершоп**:
  - Созданы модели `Master` и `Service`, между ними настроена связь "многие ко многим".
  - Разработана форма записи с асинхронной загрузкой услуг через AJAX.
  - Интеграция с Telegram-ботом, который уведомляет администратора о новых заявках через Telegram API.
  - Использованы технологии: **Django**, **Bootstrap 5**, **AJAX**, **Python Telegram Bot**, **Django Signals**.
  - Добавлена адаптивность страниц с использованием Bootstrap 5.

### Задание 53:

- Выполнен **рефакторинг системы записи** с использованием Django Generic Views:
  - Реализованы классовые представления для создания (`VisitCreateView`), просмотра (`VisitDetailView`), редактирования (`VisitUpdateView`), и удаления (`VisitDeleteView`) записей.
  - Настроены маршруты и шаблоны для управления записями, включая страницы с формой записи и страницу благодарности.
  - Асинхронная функция для загрузки услуг мастеров через AJAX работает корректно.

### Задание 54:

- Реализована **система регистрации, авторизации и выхода** для пользователей:
  - Использованы встроенные возможности Django, такие как `UserCreationForm` для регистрации, `AuthenticationForm` для авторизации и `LogoutView` для выхода из системы.
  - Шаблоны для страниц регистрации, авторизации и выхода стилизованы с использованием **Bootstrap 5**.
  - Настроено меню для отображения состояния пользователя (авторизован/не авторизован) и соответствующие ссылки на страницы входа и выхода.
  - Добавлена возможность логина по юзернейму и email.

## Установка проекта

1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/bergitalex/Barber_Web_TgBot.git
   ```

2. Перейдите в директорию проекта:
   ```bash
   cd Barber_Web_TgBot
   ```

3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

4. Настройте файл `.env`, добавив API-токен для Telegram-бота и другие необходимые переменные:
   ```bash
   TELEGRAM_BOT_TOKEN=your_bot_token
   ADMIN_CHAT_ID=your_admin_chat_id
   ```

5. Примените миграции:
   ```bash
   python manage.py migrate
   ```

6. Создайте суперпользователя для доступа к админке:
   ```bash
   python manage.py createsuperuser
   ```

7. Запустите сервер:
   ```bash
   python manage.py runserver
   ```

## Использование

### Функционал веб-приложения:

- **Главная страница** (лендинг с информацией о барбершопе и форма записи): доступна по маршруту `/`.
- **Создание записи**: доступно по маршруту `/visit/add/`.
- **Просмотр, редактирование и удаление записей**: все действия можно выполнить через веб-интерфейс, используя стандартные CRUD операции.

### Telegram-бот:

- Telegram-бот интегрирован с системой записей: клиенты могут отправлять заявки через бота, а администратор получает уведомления о новых заявках.

## Основные маршруты

- `/users/register/` — Регистрация пользователя.
- `/users/login/` — Вход в систему.
- `/users/logout/` — Выход из системы.
- `/visit/add/` — Создание новой записи.
